{"id":209,"date":"2017-07-31T19:39:24","date_gmt":"2017-07-31T23:39:24","guid":{"rendered":"http:\/\/langstonsoftware.com\/?p=209"},"modified":"2024-01-30T19:09:16","modified_gmt":"2024-01-31T00:09:16","slug":"you-arent-going-to-need-it-until-it-kills-you","status":"publish","type":"post","link":"https:\/\/langstonsoftware.com\/2017\/07\/31\/you-arent-going-to-need-it-until-it-kills-you\/","title":{"rendered":"You Aren&#8217;t Going To Need It &#8211; Until It Kills You"},"content":{"rendered":"<p>Not too long ago a Internet of Things (IoT) startup posted a impassioned piece on how their cloud provider had changed their billing procedures, and nearly drove the startup out of business. They had put significant functionality behind a cloud provider, given themselves no way to update their products, no way to switch providers, and generated a large amount of network overhead for the cloud provider that was now being reflected in their bill.<\/p>\n<p>Their technical debt bill had come due.<\/p>\n<p>While the article included all the pieces for a competent technical postmortem of the technical debt that lead to the issues, those themes got lost in the comments and overall emotion of the post. Without name calling, I&#8217;d like to talk more abstractly about the takeaways we can find for the limits of <a href=\"https:\/\/en.wikipedia.org\/wiki\/You_aren%27t_gonna_need_it\" target=\"_blank\" rel=\"noopener\">YAGNI<\/a> in the Minimal Viable Product (MVP) phase of software development.<\/p>\n<p>First, IoT deployments don&#8217;t have a default way to auto-update the way servers we control.  Desktop, mobile, and console deployments have similar constraints, but overall IoT is a different level. Our example MVP had no automated update mechanism in place, which is surprisingly common today in the IoT field. Especially when such devices connect to hard coded URLs, as it did in this case, this omission can render these machines effectively inert. Auto-update doesn&#8217;t have to be in your business pitch version, but it should be in your device before you ship. Sending anything else out the door is making pie crust promises: easily made, easily broken. <a href=\"https:\/\/docs.microsoft.com\/en-us\/windows-hardware\/service\/iot\/updating-iot-core-apps\" target=\"_blank\" rel=\"noopener\">You can enable automatic app updates in Windows 10 IoT Core<\/a> and similar functionality is configurable in *nix based systems.<\/p>\n<p>Second, connecting to external APIs directly is not a successful way to ensure reliability of your system. This is obviously true for when the external API is running someone else&#8217;s code, but the lesson we are presented reminds us that it is true for cloud providers hosting our own code as well. This doesn&#8217;t have to be a downside. Programming additional layers of abstraction, fallback mechanisms, and other reliability constructs can lead to us producing more reliable, micro-service oriented code. The concrete suggestion here was to connect to the external resource via a DNS address on a domain the developer controlled, perhaps a reverse proxy as well for a caching layer. The caching layer could have helped as well with the last issue as well.<\/p>\n<p>Finally, SSL sessions and connections are not free and there is a <a href=\"https:\/\/www.websecurity.symantec.com\/security-topics\/how-does-ssl-handshake-work\" target=\"_blank\" rel=\"noopener\">surprisingly large amount<\/a> of <a href=\"https:\/\/www.red-gate.com\/simple-talk\/dotnet\/net-framework\/tlsssl-and-net-framework-4-0\/\" target=\"_blank\" rel=\"noopener\">technical detail<\/a> you <a href=\"https:\/\/vincent.bernat.im\/en\/blog\/2011-ssl-session-reuse-rfc5077\" target=\"_blank\" rel=\"noopener\">can learn<\/a> to offset that cost. If you control your own hardware you can easily monitor and shift that cost, for instance by terminating the SSL connection at a hardware load balancer. But for external resources, it may not be as apparent. Especially if you send a large number of requests (even if each request itself is small) the overall overhead can be substantial. The trick here is to use techniques that allow you to keep the SSL session open, letting you skip the SSL handshake on future requests. Or as we said before, you can introduce a caching layer. A request you don&#8217;t send doesn&#8217;t have any cost (for SSL).<\/p>\n<p>Taken all together, failing to see these limits to the YAGNI philosophy almost cost a startup all of their customers. While YAGNI is a good principle to follow within our own code and resources, we have to &#8220;over engineer&#8221; a bit when dealing with external resources to make up for the unknowns (both known and unknown varieties). An easy to operate update mechanism and\/or an extra level of abstraction when accessing external resources lets us recover from failures faster. A little more care when dealing with SSL connections can save us a lot of network overhead. Keep that in mind the next time your project has you connecting externally to any service, on your hardware or others&#8217;.<\/p>\n<h3>Before You Go<\/h3>\r\n&nbsp;<p>\r\nWas this post was incorrect or incomplete?  Leave a comment.\r\n<\/p>\r\n<style>\r\n#callToAction {color:red}\r\n<\/style>\r\n<p>\r\nWas this post helpful to you? <a id=\"callToAction\" class=\"button\" href=\"http:\/\/eepurl.com\/bYVEJj\"><em>Subscribe for emails on full stack web development.<\/em><\/a>\r\n<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Not too long ago a Internet of Things (IoT) startup posted a impassioned piece on how their cloud provider had changed their billing procedures, and nearly drove the startup out of business. They had put significant functionality behind a cloud provider, given themselves no way to update their products, no way to switch providers, and &#8230;<\/p>\n","protected":false},"author":1,"featured_media":249,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"nf_dc_page":"","jetpack_post_was_ever_published":false,"_jetpack_newsletter_access":"","_jetpack_dont_email_post_to_subs":false,"_jetpack_newsletter_tier_id":0,"_jetpack_memberships_contains_paywalled_content":false,"_jetpack_memberships_contains_paid_content":false,"footnotes":"","jetpack_publicize_message":"Failing to see these limits to YAGNI philosophy almost cost a startup all of their customers.","jetpack_publicize_feature_enabled":true,"jetpack_social_post_already_shared":true,"jetpack_social_options":{"image_generator_settings":{"template":"highway","enabled":false},"version":2}},"categories":[21],"tags":[],"class_list":["post-209","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-architecture-design-philosophy"],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"https:\/\/i0.wp.com\/langstonsoftware.com\/wp-content\/uploads\/2017\/07\/pexels-photo-280345.jpeg?fit=1125%2C750&ssl=1","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/p6Os38-3n","_links":{"self":[{"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/posts\/209"}],"collection":[{"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/comments?post=209"}],"version-history":[{"count":5,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/posts\/209\/revisions"}],"predecessor-version":[{"id":617,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/posts\/209\/revisions\/617"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/media\/249"}],"wp:attachment":[{"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/media?parent=209"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/categories?post=209"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/langstonsoftware.com\/wp-json\/wp\/v2\/tags?post=209"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}